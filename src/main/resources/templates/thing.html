<div xmlns:th=http://www.thymeleaf.org xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorator="layout">
    <div layout:fragment="content">
        <div th:include="navbar"></div>
        <div style="padding: 20px;">
            <div class="row" style="padding-bottom: 20px;">
                <form class="col-sm-6" method="get" action="/thing/list">
                    <input type="text" class="form-control" name="title" th:value="${title}" placeholder="标题" style="width: auto;display: inline-block;margin-right: 10px;">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="type" id="all" value="" th:checked="${type == null}">
                        <label class="form-check-label" for="all">全部</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="type" id="personal" value="1" th:checked="${type == 1}">
                        <label class="form-check-label" for="personal">个人</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="type" id="company" value="2" th:checked="${type == 2}">
                        <label class="form-check-label" for="company">公司</label>
                    </div>
                    <input type="hidden" class="form-control" name="pageIndex" th:value="${things.pageIndex}">
                    <button type="submit" class="btn btn-primary" style="position: relative;left: -4px;top: -2px;">查询</button>
                </form>
                <form class="col-sm-6 text-right" method="get" action="/thing/add">
                    <button type="submit" class="btn btn-success">添加</button>
                </form>
            </div>
            <table class="table table-bordered table-hover">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">标题</th>
                    <th scope="col">创建时间</th>
                    <th scope="col">操作</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="thing, stat : ${things.list}">
                    <th scope="row" th:text="${stat.index+1}"></th>
                    <td th:text="${thing.title}"></td>
                    <td th:text="${#dates.format(thing.createTime, 'yyyy-MM-dd HH:mm:ss')}"></td>
                    <td>
                        <button type="button" class="btn btn-success btn-sm">编辑</button>
                        <button type="button" class="btn btn-danger btn-sm">删除</button>
                    </td>
                </tr>
                </tbody>
            </table>
            <nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li class="page-item" th:classappend="${things.pageIndex == 1} ? 'disabled' : ''">
                        <a class="page-link" th:href="'/thing/list?pageIndex=' + ${things.pageIndex - 1}">上一页</a>
                    </li>
                    <li class="page-item" th:classappend="${things.pageIndex == item} ? 'active' : ''" th:each="item : ${#numbers.sequence(1, things.pages)}">
                        <a class="page-link" th:href="'/thing/list?pageIndex=' + ${item}" th:text="${item}"></a>
                    </li>
                    <li class="page-item" th:classappend="${things.pageIndex == things.pages} ? 'disabled' : ''">
                        <a class="page-link" th:href="'/thing/list?pageIndex=' + ${things.pageIndex + 1}">下一页</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
</div>